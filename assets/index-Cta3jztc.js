(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function o(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(e){if(e.ep)return;e.ep=!0;const a=o(e);fetch(e.href,a)}})();const s={en:{title:"SchoolCraft Server - Join Our Minecraft World",join_server:"Join SchoolCraft Server",register_description:"Register to access our educational Minecraft world",login_description:"Sign in to access your SchoolCraft account",minecraft_username:"Minecraft Username",enter_minecraft_username:"Enter your Minecraft username",email_address:"Email Address",enter_email:"your.email@school.edu",password:"Password",enter_password:"Enter your password",grade_class:"Grade/Class (Optional)",select_grade:"Select your grade",grade_6:"6th Grade",grade_7:"7th Grade",grade_8:"8th Grade",grade_9:"9th Grade",grade_10:"10th Grade",grade_11:"11th Grade",grade_12:"12th Grade",join_server_btn:"Join Server",login_btn:"Sign In",register_btn:"Register",switch_to_login:"Already have an account? Sign in",switch_to_register:"Don't have an account? Register",welcome_title:"Welcome to SchoolCraft Server!",welcome_message:"Hey",ready_to_build:"Ready to build and learn together?",server_connection:"Server Connection",server_ip:"Server IP:",step_1:"Open Minecraft Java Edition",step_2:'Click "Multiplayer"',step_3:'Click "Add Server"',step_4:"Paste the server IP above",step_5:'Click "Done" and connect!',server_status:"Server Status",online:"Online",players_online:"Players Online:",updated:"Updated",server_rules:"Server Rules",rule_1:"🏠 No griefing or destroying other players' builds",rule_2:"💬 Keep chat friendly and respectful",rule_3:"🤝 Help other students when they need it",rule_4:"🎯 Stay in designated areas during class time",rule_5:"🚫 No inappropriate builds or language",rule_6:"📚 Educational projects take priority",rule_7:"⚡ Ask permission before using redstone in shared areas",rule_8:"🎮 Have fun and be creative!",join_community:"Join Our Community",discord_description:"Connect with classmates, share builds, and get server updates!",join_discord:"Join Discord Server",quick_tips:"Quick Tips:",tip_1:"• Use /help for in-game commands",tip_2:"• Ask staff for building permissions",tip_3:"• Share screenshots in Discord!",tip_4:"• Report issues to administrators",made_with:"Made with",for_school:"for our school community",registration_successful:"Registration Successful! 🎉",login_successful:"Welcome back! 🎉",welcome_message_toast:"Welcome to SchoolCraft Server! You can now access the server.",welcome_back_toast:"Welcome back to SchoolCraft Server!",missing_info:"Missing Information",fill_required:"Please fill in your Minecraft username and email address.",fill_login_required:"Please fill in your email address and password.",invalid_credentials:"Invalid credentials. Please check your email and password.",creating_account:"Creating Account...",signing_in:"Signing In...",server_ip_copied:"Copied! 📋",ip_copied_desc:"Server IP copied to clipboard"},ru:{title:"Сервер SchoolCraft - Присоединяйтесь к нашему миру Minecraft",join_server:"Присоединиться к серверу SchoolCraft",register_description:"Зарегистрируйтесь для доступа к нашему образовательному миру Minecraft",login_description:"Войдите в свой аккаунт SchoolCraft",minecraft_username:"Имя пользователя Minecraft",enter_minecraft_username:"Введите ваше имя пользователя Minecraft",email_address:"Адрес электронной почты",enter_email:"ваш.email@школа.рф",password:"Пароль",enter_password:"Введите ваш пароль",grade_class:"Класс (Необязательно)",select_grade:"Выберите ваш класс",grade_6:"6 класс",grade_7:"7 класс",grade_8:"8 класс",grade_9:"9 класс",grade_10:"10 класс",grade_11:"11 класс",grade_12:"12 класс",join_server_btn:"Присоединиться к серверу",login_btn:"Войти",register_btn:"Зарегистрироваться",switch_to_login:"Уже есть аккаунт? Войти",switch_to_register:"Нет аккаунта? Зарегистрироваться",welcome_title:"Добро пожаловать на сервер SchoolCraft!",welcome_message:"Привет",ready_to_build:"Готовы строить и учиться вместе?",server_connection:"Подключение к серверу",server_ip:"IP сервера:",step_1:"Откройте Minecraft Java Edition",step_2:'Нажмите "Сетевая игра"',step_3:'Нажмите "Добавить сервер"',step_4:"Вставьте IP сервера выше",step_5:'Нажмите "Готово" и подключитесь!',server_status:"Статус сервера",online:"Онлайн",players_online:"Игроков онлайн:",updated:"Обновлено",server_rules:"Правила сервера",rule_1:"🏠 Не разрушайте постройки других игроков",rule_2:"💬 Ведите себя дружелюбно и уважительно в чате",rule_3:"🤝 Помогайте другим студентам, когда они нуждаются в помощи",rule_4:"🎯 Оставайтесь в отведенных местах во время урока",rule_5:"🚫 Никаких неподобающих построек или языка",rule_6:"📚 Образовательные проекты имеют приоритет",rule_7:"⚡ Спрашивайте разрешения перед использованием красного камня в общих зонах",rule_8:"🎮 Веселитесь и будьте креативными!",join_community:"Присоединяйтесь к нашему сообществу",discord_description:"Общайтесь с одноклассниками, делитесь постройками и получайте обновления сервера!",join_discord:"Присоединиться к серверу Discord",quick_tips:"Быстрые советы:",tip_1:"• Используйте /help для команд в игре",tip_2:"• Спрашивайте у персонала разрешения на строительство",tip_3:"• Делитесь скриншотами в Discord!",tip_4:"• Сообщайте о проблемах администраторам",made_with:"Сделано с",for_school:"для нашего школьного сообщества",registration_successful:"Регистрация успешна! 🎉",login_successful:"Добро пожаловать обратно! 🎉",welcome_message_toast:"Добро пожаловать на сервер SchoolCraft! Теперь вы можете получить доступ к серверу.",welcome_back_toast:"Добро пожаловать обратно на сервер SchoolCraft!",missing_info:"Отсутствует информация",fill_required:"Пожалуйста, заполните ваше имя пользователя Minecraft и адрес электронной почты.",fill_login_required:"Пожалуйста, заполните адрес электронной почты и пароль.",invalid_credentials:"Неверные учетные данные. Проверьте email и пароль.",creating_account:"Создание аккаунта...",signing_in:"Вход в систему...",server_ip_copied:"Скопировано! 📋",ip_copied_desc:"IP сервера скопирован в буфер обмена"},he:{title:"שרת SchoolCraft - הצטרפו לעולם המיינקראפט שלנו",join_server:"הצטרף לשרת SchoolCraft",register_description:"הירשם כדי לקבל גישה לעולם המיינקראפט החינוכי שלנו",login_description:"התחבר לחשבון SchoolCraft שלך",minecraft_username:"שם משתמש מיינקראפט",enter_minecraft_username:"הכנס את שם המשתמש שלך במיינקראפט",email_address:"כתובת אימייל",enter_email:"האימייל.שלך@בית-ספר.ישראל",password:"סיסמה",enter_password:"הכנס את הסיסמה שלך",grade_class:"כיתה (אופציונלי)",select_grade:"בחר את הכיתה שלך",grade_6:"כיתה ו'",grade_7:"כיתה ז'",grade_8:"כיתה ח'",grade_9:"כיתה ט'",grade_10:"כיתה י'",grade_11:"כיתה יא'",grade_12:"כיתה יב'",join_server_btn:"הצטרף לשרת",login_btn:"התחבר",register_btn:"הירשם",switch_to_login:"יש לך כבר חשבון? התחבר",switch_to_register:"אין לך חשבון? הירשם",welcome_title:"ברוכים הבאים לשרת SchoolCraft!",welcome_message:"היי",ready_to_build:"מוכנים לבנות וללמוד יחד?",server_connection:"חיבור לשרת",server_ip:"IP השרת:",step_1:"פתח את Minecraft Java Edition",step_2:'לחץ על "Multiplayer"',step_3:'לחץ על "Add Server"',step_4:"הדבק את ה-IP של השרת למעלה",step_5:'לחץ "Done" והתחבר!',server_status:"סטטוס השרת",online:"מחובר",players_online:"שחקנים מחוברים:",updated:"עודכן",server_rules:"חוקי השרת",rule_1:"🏠 אין להרוס או לפגוע בבניינים של שחקנים אחרים",rule_2:"💬 שמרו על צ'אט ידידותי ומכבד",rule_3:"🤝 עזרו לתלמידים אחרים כשהם צריכים עזרה",rule_4:"🎯 הישארו באזורים המיועדים בזמן השיעור",rule_5:"🚫 אין בניינים או שפה לא הולמים",rule_6:"📚 פרויקטים חינוכיים בעדיפות",rule_7:"⚡ בקשו רשות לפני שימוש ברדסטון באזורים משותפים",rule_8:"🎮 תהנו והיו יצירתיים!",join_community:"הצטרפו לקהילה שלנו",discord_description:"התחברו עם חברי הכיתה, שתפו בניינים וקבלו עדכוני שרת!",join_discord:"הצטרף לשרת Discord",quick_tips:"טיפים מהירים:",tip_1:"• השתמש ב-/help לפקודות במשחק",tip_2:"• בקש מהצוות הרשאות בנייה",tip_3:"• שתף צילומי מסך ב-Discord!",tip_4:"• דווח על בעיות למנהלים",made_with:"נעשה באהבה",for_school:"עבור קהילת בית הספר שלנו",registration_successful:"ההרשמה הצליחה! 🎉",login_successful:"ברוכים השבים! 🎉",welcome_message_toast:"ברוכים הבאים לשרת SchoolCraft! עכשיו אתם יכולים לגשת לשרת.",welcome_back_toast:"ברוכים השבים לשרת SchoolCraft!",missing_info:"מידע חסר",fill_required:"אנא מלא את שם המשתמש שלך במיינקראפט וכתובת האימייל.",fill_login_required:"אנא מלא את כתובת האימייל והסיסמה.",invalid_credentials:"פרטי התחברות שגויים. בדוק את האימייל והסיסמה.",creating_account:"יוצר חשבון...",signing_in:"מתחבר...",server_ip_copied:"הועתק! 📋",ip_copied_desc:"IP השרת הועתק ללוח"}};let i="en",_=null,d=12,g=50,u=!1,p=[{email:"student@school.edu",password:"password123",minecraftUsername:"TestPlayer",grade:"10th"}];document.addEventListener("DOMContentLoaded",function(){b()});function b(){const t=localStorage.getItem("preferred-language")||"en",r=localStorage.getItem("preferred-theme")||"light";f(t),y(r),w(),m(),setInterval(m,3e4)}function w(){document.getElementById("theme-toggle").addEventListener("click",I),document.getElementById("language-selector").addEventListener("change",function(){f(this.value)}),document.getElementById("authForm").addEventListener("submit",C),document.getElementById("mode-toggle").addEventListener("click",S);const e=document.getElementById("copy-ip");e&&e.addEventListener("click",x);const a=document.getElementById("discord-btn");a&&a.addEventListener("click",function(){window.open("https://discord.gg/schoolcraft","_blank")})}function S(){u=!u,E()}function E(){const t=document.querySelector(".title"),r=document.querySelector(".subtitle"),o=document.getElementById("username-group"),n=document.getElementById("password-group"),e=document.getElementById("grade-group"),a=document.getElementById("submit-btn"),l=document.getElementById("mode-toggle");u?(t.setAttribute("data-i18n","join_server"),r.setAttribute("data-i18n","login_description"),o.style.display="none",n.style.display="block",e.style.display="none",a.querySelector("span").setAttribute("data-i18n","login_btn"),l.setAttribute("data-i18n","switch_to_register")):(t.setAttribute("data-i18n","join_server"),r.setAttribute("data-i18n","register_description"),o.style.display="block",n.style.display="block",e.style.display="block",a.querySelector("span").setAttribute("data-i18n","register_btn"),l.setAttribute("data-i18n","switch_to_login")),h()}function f(t){i=t,localStorage.setItem("preferred-language",t),document.getElementById("language-selector").value=t;const r=document.documentElement;t==="he"?(r.setAttribute("dir","rtl"),r.setAttribute("lang","he")):(r.setAttribute("dir","ltr"),r.setAttribute("lang",t)),h(),document.title=s[t].title}function h(){document.querySelectorAll("[data-i18n]").forEach(o=>{const n=o.getAttribute("data-i18n");s[i]&&s[i][n]&&(o.textContent=s[i][n])}),document.querySelectorAll("[data-i18n-placeholder]").forEach(o=>{const n=o.getAttribute("data-i18n-placeholder");s[i]&&s[i][n]&&(o.placeholder=s[i][n])})}function y(t){const r=document.body,o=document.getElementById("theme-icon");t==="dark"?(r.setAttribute("data-theme","dark"),o.textContent="☀️"):(r.setAttribute("data-theme","light"),o.textContent="🌙"),localStorage.setItem("preferred-theme",t)}function I(){const r=document.body.getAttribute("data-theme")==="dark"?"light":"dark";y(r)}function C(t){t.preventDefault(),u?k():B()}async function B(){const t=document.getElementById("minecraft-username").value.trim(),r=document.getElementById("email").value.trim(),o=document.getElementById("password").value.trim(),n=document.getElementById("grade").value;if(!t||!r||!o){c(s[i].missing_info,s[i].fill_required,"error");return}const e=document.getElementById("submit-btn"),a=e.innerHTML;e.innerHTML=`<span>${s[i].creating_account}</span>`,e.disabled=!0;try{const l={minecraftUsername:t,email:r,password:o,grade:n};p.push(l),_=l,await T({MinecraftUsername:t,Email:r,Password:o,Grade:n}),c(s[i].registration_successful,s[i].welcome_message_toast,"success"),setTimeout(()=>{v()},1500)}catch(l){c("Error","Failed to save registration data. Please try again.","error"),console.error(l)}finally{e.innerHTML=a,e.disabled=!1}}async function T(t){const r="https://sheetdb.io/api/v1/6nrlyxofsg4sa";try{const o=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:t})});if(!o.ok)throw new Error(`SheetDB error: ${o.statusText}`);const n=await o.json();console.log("User saved to SheetDB:",n)}catch(o){throw console.error("Failed to save user to SheetDB:",o),o}}function k(){const t=document.getElementById("email").value.trim(),r=document.getElementById("password").value.trim();if(!t||!r){c(s[i].missing_info,s[i].fill_login_required,"error");return}const o=p.find(n=>n.email.toLowerCase()===t.toLowerCase()&&n.password===r);o?(_=o,c(s[i].login_successful,s[i].welcome_back_toast,"success"),setTimeout(()=>{v()},1500)):c(s[i].invalid_credentials,"","error")}function v(){const t=document.getElementById("authForm"),r=document.getElementById("main-content");t.style.display="none",r.style.display="block";const o=document.getElementById("welcome-title"),n=document.getElementById("welcome-message");o.textContent=s[i].welcome_title,n.textContent=`${s[i].welcome_message} ${_.minecraftUsername}! ${s[i].ready_to_build}`,M()}function M(){const t=document.getElementById("server-ip");t.textContent="play.schoolcraft.edu",m()}function m(){const t=document.getElementById("players-online"),r=document.getElementById("server-status"),o=document.getElementById("updated-time");d=Math.min(g,d+(Math.floor(Math.random()*3)-1)),d<0&&(d=0),t.textContent=`${s[i].players_online} ${d}/${g}`,r.textContent=s[i].online,o.textContent=`${s[i].updated} ${new Date().toLocaleTimeString()}`}function x(){const r=document.getElementById("server-ip").textContent;navigator.clipboard.writeText(r).then(()=>{c(s[i].server_ip_copied,s[i].ip_copied_desc,"success")})}function c(t,r,o="info"){const n=document.getElementById("toast-notification");n&&n.remove();const e=document.createElement("div");e.id="toast-notification",e.style.position="fixed",e.style.bottom="20px",e.style.right="20px",e.style.backgroundColor=o==="success"?"#4caf50":o==="error"?"#f44336":"#2196f3",e.style.color="white",e.style.padding="16px",e.style.borderRadius="8px",e.style.boxShadow="0 4px 6px rgba(0,0,0,0.3)",e.style.zIndex=1e3,e.style.minWidth="250px";const a=document.createElement("strong");if(a.textContent=t,a.style.display="block",a.style.marginBottom="4px",e.appendChild(a),r){const l=document.createElement("span");l.textContent=r,e.appendChild(l)}document.body.appendChild(e),setTimeout(()=>{e.style.transition="opacity 0.5s ease",e.style.opacity="0"},4e3),setTimeout(()=>{e.remove()},4500)}
