(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const s={en:{title:"SchoolCraft Server - Join Our Minecraft World",join_server:"Join SchoolCraft Server",register_description:"Register to access our educational Minecraft world",login_description:"Sign in to access your SchoolCraft account",minecraft_username:"Minecraft Username",enter_minecraft_username:"Enter your Minecraft username",email_address:"Email Address",enter_email:"your.email@school.edu",password:"Password",enter_password:"Enter your password",grade_class:"Grade/Class (Optional)",select_grade:"Select your grade",grade_6:"6th Grade",grade_7:"7th Grade",grade_8:"8th Grade",grade_9:"9th Grade",grade_10:"10th Grade",grade_11:"11th Grade",grade_12:"12th Grade",join_server_btn:"Join Server",login_btn:"Sign In",register_btn:"Register",switch_to_login:"Already have an account? Sign in",switch_to_register:"Don't have an account? Register",welcome_title:"Welcome to SchoolCraft Server!",welcome_message:"Hey",ready_to_build:"Ready to build and learn together?",server_connection:"Server Connection",server_ip:"Server IP:",step_1:"Open Minecraft Java Edition",step_2:'Click "Multiplayer"',step_3:'Click "Add Server"',step_4:"Paste the server IP above",step_5:'Click "Done" and connect!',server_status:"Server Status",online:"Online",players_online:"Players Online:",updated:"Updated",server_rules:"Server Rules",rule_1:"🏠 No griefing or destroying other players' builds",rule_2:"💬 Keep chat friendly and respectful",rule_3:"🤝 Help other students when they need it",rule_4:"🎯 Stay in designated areas during class time",rule_5:"🚫 No inappropriate builds or language",rule_6:"📚 Educational projects take priority",rule_7:"⚡ Ask permission before using redstone in shared areas",rule_8:"🎮 Have fun and be creative!",join_community:"Join Our Community",discord_description:"Connect with classmates, share builds, and get server updates!",join_discord:"Join Discord Server",quick_tips:"Quick Tips:",tip_1:"• Use /help for in-game commands",tip_2:"• Ask staff for building permissions",tip_3:"• Share screenshots in Discord!",tip_4:"• Report issues to administrators",made_with:"Made with",for_school:"for our school community",registration_successful:"Registration Successful! 🎉",login_successful:"Welcome back! 🎉",welcome_message_toast:"Welcome to SchoolCraft Server! You can now access the server.",welcome_back_toast:"Welcome back to SchoolCraft Server!",missing_info:"Missing Information",fill_required:"Please fill in your Minecraft username and email address.",fill_login_required:"Please fill in your email address and password.",invalid_credentials:"Invalid credentials. Please check your email and password.",creating_account:"Creating Account...",signing_in:"Signing In...",server_ip_copied:"Copied! 📋",ip_copied_desc:"Server IP copied to clipboard"},ru:{title:"Сервер SchoolCraft - Присоединяйтесь к нашему миру Minecraft",join_server:"Присоединиться к серверу SchoolCraft",register_description:"Зарегистрируйтесь для доступа к нашему образовательному миру Minecraft",login_description:"Войдите в свой аккаунт SchoolCraft",minecraft_username:"Имя пользователя Minecraft",enter_minecraft_username:"Введите ваше имя пользователя Minecraft",email_address:"Адрес электронной почты",enter_email:"ваш.email@школа.рф",password:"Пароль",enter_password:"Введите ваш пароль",grade_class:"Класс (Необязательно)",select_grade:"Выберите ваш класс",grade_6:"6 класс",grade_7:"7 класс",grade_8:"8 класс",grade_9:"9 класс",grade_10:"10 класс",grade_11:"11 класс",grade_12:"12 класс",join_server_btn:"Присоединиться к серверу",login_btn:"Войти",register_btn:"Зарегистрироваться",switch_to_login:"Уже есть аккаунт? Войти",switch_to_register:"Нет аккаунта? Зарегистрироваться",welcome_title:"Добро пожаловать на сервер SchoolCraft!",welcome_message:"Привет",ready_to_build:"Готовы строить и учиться вместе?",server_connection:"Подключение к серверу",server_ip:"IP сервера:",step_1:"Откройте Minecraft Java Edition",step_2:'Нажмите "Сетевая игра"',step_3:'Нажмите "Добавить сервер"',step_4:"Вставьте IP сервера выше",step_5:'Нажмите "Готово" и подключитесь!',server_status:"Статус сервера",online:"Онлайн",players_online:"Игроков онлайн:",updated:"Обновлено",server_rules:"Правила сервера",rule_1:"🏠 Не разрушайте постройки других игроков",rule_2:"💬 Ведите себя дружелюбно и уважительно в чате",rule_3:"🤝 Помогайте другим студентам, когда они нуждаются в помощи",rule_4:"🎯 Оставайтесь в отведенных местах во время урока",rule_5:"🚫 Никаких неподобающих построек или языка",rule_6:"📚 Образовательные проекты имеют приоритет",rule_7:"⚡ Спрашивайте разрешения перед использованием красного камня в общих зонах",rule_8:"🎮 Веселитесь и будьте креативными!",join_community:"Присоединяйтесь к нашему сообществу",discord_description:"Общайтесь с одноклассниками, делитесь постройками и получайте обновления сервера!",join_discord:"Присоединиться к серверу Discord",quick_tips:"Быстрые советы:",tip_1:"• Используйте /help для команд в игре",tip_2:"• Спрашивайте у персонала разрешения на строительство",tip_3:"• Делитесь скриншотами в Discord!",tip_4:"• Сообщайте о проблемах администраторам",made_with:"Сделано с",for_school:"для нашего школьного сообщества",registration_successful:"Регистрация успешна! 🎉",login_successful:"Добро пожаловать обратно! 🎉",welcome_message_toast:"Добро пожаловать на сервер SchoolCraft! Теперь вы можете получить доступ к серверу.",welcome_back_toast:"Добро пожаловать обратно на сервер SchoolCraft!",missing_info:"Отсутствует информация",fill_required:"Пожалуйста, заполните ваше имя пользователя Minecraft и адрес электронной почты.",fill_login_required:"Пожалуйста, заполните адрес электронной почты и пароль.",invalid_credentials:"Неверные учетные данные. Проверьте email и пароль.",creating_account:"Создание аккаунта...",signing_in:"Вход в систему...",server_ip_copied:"Скопировано! 📋",ip_copied_desc:"IP сервера скопирован в буфер обмена"},he:{title:"שרת SchoolCraft - הצטרפו לעולם המיינקראפט שלנו",join_server:"הצטרף לשרת SchoolCraft",register_description:"הירשם כדי לקבל גישה לעולם המיינקראפט החינוכי שלנו",login_description:"התחבר לחשבון SchoolCraft שלך",minecraft_username:"שם משתמש מיינקראפט",enter_minecraft_username:"הכנס את שם המשתמש שלך במיינקראפט",email_address:"כתובת אימייל",enter_email:"האימייל.שלך@בית-ספר.ישראל",password:"סיסמה",enter_password:"הכנס את הסיסמה שלך",grade_class:"כיתה (אופציונלי)",select_grade:"בחר את הכיתה שלך",grade_6:"כיתה ו'",grade_7:"כיתה ז'",grade_8:"כיתה ח'",grade_9:"כיתה ט'",grade_10:"כיתה י'",grade_11:"כיתה יא'",grade_12:"כיתה יב'",join_server_btn:"הצטרף לשרת",login_btn:"התחבר",register_btn:"הירשם",switch_to_login:"יש לך כבר חשבון? התחבר",switch_to_register:"אין לך חשבון? הירשם",welcome_title:"ברוכים הבאים לשרת SchoolCraft!",welcome_message:"היי",ready_to_build:"מוכנים לבנות וללמוד יחד?",server_connection:"חיבור לשרת",server_ip:"IP השרת:",step_1:"פתח את Minecraft Java Edition",step_2:'לחץ על "Multiplayer"',step_3:'לחץ על "Add Server"',step_4:"הדבק את ה-IP של השרת למעלה",step_5:'לחץ "Done" והתחבר!',server_status:"סטטוס השרת",online:"מחובר",players_online:"שחקנים מחוברים:",updated:"עודכן",server_rules:"חוקי השרת",rule_1:"🏠 אין להרוס או לפגוע בבניינים של שחקנים אחרים",rule_2:"💬 שמרו על צ'אט ידידותי ומכבד",rule_3:"🤝 עזרו לתלמידים אחרים כשהם צריכים עזרה",rule_4:"🎯 הישארו באזורים המיועדים בזמן השיעור",rule_5:"🚫 אין בניינים או שפה לא הולמים",rule_6:"📚 פרויקטים חינוכיים בעדיפות",rule_7:"⚡ בקשו רשות לפני שימוש ברדסטון באזורים משותפים",rule_8:"🎮 תהנו והיו יצירתיים!",join_community:"הצטרפו לקהילה שלנו",discord_description:"התחברו עם חברי הכיתה, שתפו בניינים וקבלו עדכוני שרת!",join_discord:"הצטרף לשרת Discord",quick_tips:"טיפים מהירים:",tip_1:"• השתמש ב-/help לפקודות במשחק",tip_2:"• בקש מהצוות הרשאות בנייה",tip_3:"• שתף צילומי מסך ב-Discord!",tip_4:"• דווח על בעיות למנהלים",made_with:"נעשה באהבה",for_school:"עבור קהילת בית הספר שלנו",registration_successful:"ההרשמה הצליחה! 🎉",login_successful:"ברוכים השבים! 🎉",welcome_message_toast:"ברוכים הבאים לשרת SchoolCraft! עכשיו אתם יכולים לגשת לשרת.",welcome_back_toast:"ברוכים השבים לשרת SchoolCraft!",missing_info:"מידע חסר",fill_required:"אנא מלא את שם המשתמש שלך במיינקראפט וכתובת האימייל.",fill_login_required:"אנא מלא את כתובת האימייל והסיסמה.",invalid_credentials:"פרטי התחברות שגויים. בדוק את האימייל והסיסמה.",creating_account:"יוצר חשבון...",signing_in:"מתחבר...",server_ip_copied:"הועתק! 📋",ip_copied_desc:"IP השרת הועתק ללוח"}};let i="en",d=null,m=12,b=50,u=!1,_=[{email:"student@school.edu",password:"password123",minecraftUsername:"TestPlayer",grade:"10th"}];document.addEventListener("DOMContentLoaded",function(){w()});function w(){const t=localStorage.getItem("preferred-language")||"en",e=localStorage.getItem("preferred-theme")||"light";p(t),h(e),S(),g(),setInterval(g,3e4)}function S(){document.getElementById("theme-toggle").addEventListener("click",C),document.getElementById("language-selector").addEventListener("change",function(){p(this.value)}),document.getElementById("authForm").addEventListener("submit",B),document.getElementById("mode-toggle").addEventListener("click",E);const r=document.getElementById("copy-ip");r&&r.addEventListener("click",v);const o=document.getElementById("discord-btn");o&&o.addEventListener("click",function(){window.open("https://discord.gg/schoolcraft","_blank")})}function E(){u=!u,I()}function I(){const t=document.querySelector(".title"),e=document.querySelector(".subtitle"),n=document.getElementById("username-group"),a=document.getElementById("password-group"),r=document.getElementById("grade-group"),o=document.getElementById("submit-btn"),c=document.getElementById("mode-toggle");u?(t.setAttribute("data-i18n","join_server"),e.setAttribute("data-i18n","login_description"),n.style.display="none",a.style.display="block",r.style.display="none",o.querySelector("span").setAttribute("data-i18n","login_btn"),c.setAttribute("data-i18n","switch_to_register")):(t.setAttribute("data-i18n","join_server"),e.setAttribute("data-i18n","register_description"),n.style.display="block",a.style.display="block",r.style.display="block",o.querySelector("span").setAttribute("data-i18n","register_btn"),c.setAttribute("data-i18n","switch_to_login")),f()}function p(t){i=t,localStorage.setItem("preferred-language",t),document.getElementById("language-selector").value=t;const e=document.documentElement;t==="he"?(e.setAttribute("dir","rtl"),e.setAttribute("lang","he")):(e.setAttribute("dir","ltr"),e.setAttribute("lang",t)),f(),document.title=s[t].title}function f(){document.querySelectorAll("[data-i18n]").forEach(n=>{const a=n.getAttribute("data-i18n");s[i]&&s[i][a]&&(n.textContent=s[i][a])}),document.querySelectorAll("[data-i18n-placeholder]").forEach(n=>{const a=n.getAttribute("data-i18n-placeholder");s[i]&&s[i][a]&&(n.placeholder=s[i][a])})}function h(t){const e=document.body,n=document.getElementById("theme-icon");t==="dark"?(e.setAttribute("data-theme","dark"),n.textContent="☀️"):(e.setAttribute("data-theme","light"),n.textContent="🌙"),localStorage.setItem("preferred-theme",t)}function C(){const e=document.body.getAttribute("data-theme")==="dark"?"light":"dark";h(e)}function B(t){t.preventDefault(),u?A():T()}function A(){const t=document.getElementById("email").value.trim(),e=document.getElementById("password").value.trim();if(console.log("Login attempt:",{email:t,password:e?"***":"empty"}),console.log("User database:",_),!t||!e){console.log("Missing credentials"),l(s[i].missing_info,s[i].fill_login_required,"error");return}const n=document.getElementById("submit-btn"),a=n.innerHTML;n.innerHTML=`<span>${s[i].signing_in}</span>`,n.disabled=!0,setTimeout(()=>{const r=_.find(o=>(console.log("Checking user:",o.email,"against:",t),console.log("Password match:",o.password===e),o.email===t&&o.password===e));console.log("Found user:",r),r?(d=r,console.log("Login successful, userData set to:",d),l(s[i].login_successful,s[i].welcome_back_toast,"success"),setTimeout(()=>{y()},1500)):(console.log("Login failed - invalid credentials"),l(s[i].missing_info,s[i].invalid_credentials,"error")),n.innerHTML=a,n.disabled=!1},2e3)}function T(){const t=document.getElementById("minecraft-username").value.trim(),e=document.getElementById("email").value.trim(),n=document.getElementById("password").value.trim(),a=document.getElementById("grade").value;if(!t||!e||!n){l(s[i].missing_info,s[i].fill_required,"error");return}const r=document.getElementById("submit-btn"),o=r.innerHTML;r.innerHTML=`<span>${s[i].creating_account}</span>`,r.disabled=!0,setTimeout(()=>{const c={minecraftUsername:t,email:e,password:n,grade:a};_.push(c),d=c,l(s[i].registration_successful,s[i].welcome_message_toast,"success"),setTimeout(()=>{y()},1500),r.innerHTML=o,r.disabled=!1},2e3)}function y(){document.getElementById("registration-form").style.display="none",document.getElementById("server-homepage").style.display="block",document.getElementById("username-display").textContent=d.minecraftUsername;const t=document.getElementById("copy-ip");t&&!t.hasAttribute("data-listener")&&(t.addEventListener("click",v),t.setAttribute("data-listener","true"));const e=document.getElementById("discord-btn");e&&!e.hasAttribute("data-listener")&&(e.addEventListener("click",function(){window.open("https://discord.gg/schoolcraft","_blank")}),e.setAttribute("data-listener","true"))}function v(){const t="schoolcraft.example.com";navigator.clipboard.writeText(t).then(()=>{l(s[i].server_ip_copied,s[i].ip_copied_desc,"success")}).catch(()=>{const e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),l(s[i].server_ip_copied,s[i].ip_copied_desc,"success")})}function g(){m=Math.floor(Math.random()*25)+5;const t=document.getElementById("current-players"),e=document.getElementById("player-progress"),n=document.getElementById("last-update-time");if(t&&(t.textContent=m),e){const a=m/b*100;e.style.width=`${a}%`}n&&(n.textContent=new Date().toLocaleTimeString())}function l(t,e,n="success"){const a=document.getElementById("toast-container"),r=document.createElement("div");r.className=`toast ${n}`,r.innerHTML=`
        <div style="font-weight: bold; margin-bottom: 4px;">${t}</div>
        <div style="font-size: 0.9em; opacity: 0.9;">${e}</div>
    `,a.appendChild(r),setTimeout(()=>{r.style.opacity="0",r.style.transform="translateX(-50%) translateY(-20px)",setTimeout(()=>{a.contains(r)&&a.removeChild(r)},300)},4e3)}
